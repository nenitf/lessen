var audioPlayer=document.getElementById("audiofile");const subtitles=document.getElementById("subtitles").querySelectorAll("span"),legendas=document.getElementById("legendas").querySelectorAll("span"),sync=[];function handleDblClick(e){window.getSelection?window.getSelection().removeAllRanges():document.selection&&document.selection.empty(),audioPlayer.currentTime=e,audioPlayer.play()}subtitles.forEach(e=>{const t=e.getAttribute("data-start"),n=e.getAttribute("data-end");sync.push({start:t,end:n}),e.ondblclick=()=>handleDblClick(t)}),legendas.forEach(e=>{const t=e.getAttribute("data-start");e.ondblclick=()=>handleDblClick(t)}),audioPlayer.addEventListener("timeupdate",function(){document.querySelectorAll("span.active-caption").forEach(e=>{e.classList.remove("active-caption")});const e=sync.findIndex(e=>audioPlayer.currentTime>=e.start&&audioPlayer.currentTime<=e.end);try{subtitles[e].classList.add("active-caption"),legendas[e].classList.add("active-caption")}catch{}})